<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="msapplication-tap-highlight" content="no">
  <title>Bitsy: Templates</title>
  <script src='../dist/bitsy-1.0.0.js'></script>
  <style>
    body {
      padding: 20px;
    }
    pre {
      padding: 20px;
      border: dashed 2px #ccc;
      margin: 10px;
      white-space: pre-wrap;
    }

    ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    li {
      list-style: none;
      background-color: #fafafa;
      border: solid 1px #ccc;
      margin: 4px;
      padding: 4px;
    }
    #person {
      padding: 4px 20px;
      border: solid 1px #666;
      margin: 4px;
    }
    .price {
      float: right;
    }
  </style>
  <script>
   $(function() {
      var person = {
        name: 'Wobba',
        age: 100
      }
      var personTemplate = '<p>Name: <strong>[[= data.name ]]</strong>, age: <strong>[[= data.age ]]</strong></p>';
      var parsedPersonTemplate= $.template(personTemplate);
      $.append($('#person'), parsedPersonTemplate(person));

      var shopping = ["milk", "flour", "butter", "eggs", "lettuce", "sprouts"];
      var shoppingTemplate = '<li>[[= data ]]</li>';
      var parsedShoppingTemplate = $.template(shoppingTemplate);
      shopping.forEach(function(item) {
        $.append('#shopping ul', parsedShoppingTemplate(item));
      }); 

      var perfumes = [
        {
        "sku" : "3962",
        "name" : "My Life Blossom Mary J. Blige Eau de Parfum and Rollerball Duo",
        "long_description" : "Lorem ipsum dolor sit amet, te mei prompta laboramus. Quo et postea noluisse, id eam iriure interpretaris. Mea feugait hendrerit consequuntur no. Quod utinam qui no, duo graecis tincidunt cotidieque id.",
        "product_title" : "My Life Blossom",
        "price" : "15.00"
        },
        {
        "sku" : "3983",
        "name" : "Vince Camuto Eau de Parfum Spray",
        "long_description" : "Cu veri clita sapientem eos, mea no quot tantas antiopam, vis te stet labores. Mutat delenit accommodare ut nam, mucius oporteat facilisi sed ei. Vim an assum delicata, nonumy soluta sed cu. Tollit nostrum neglegentur per eu, eos utamur invidunt voluptaria te. Minimum salutatus vim id.",
        "product_title" : "Vince Camuto",
        "price" : "5.00"
        },
        {
        "sku" : "3982",
        "name" : "Sexual Secret by Michel Germain Eau De Parfum Spray with Mini Bottle",
        "long_description" : "Eum albucius intellegam an, ei idque facilisis eum, insolens democritum nam eu. Ferri nostro usu cu. Erat aliquip no pro. Ne wisi brute labores ius. Audiam ancillae adipisci et eum.",
        "product_title" : "Sexual Secret",
        "price" : "5.00"
        },
        {
        "sku" : "5808",
        "name" : "Calvin Klein Secret Obsession Eau de Parfum Spray",
        "long_description" : "Id posse detraxit has, et sit exerci nominati. An natum suavitate mei, vis te etiam repudiandae, no mei libris consequat consequuntur. Brute scribentur ad his, ex altera quaeque adversarium his, id erat ubique erroribus ius.",
        "product_title" : "Secret Obsession",
        "price" : "12.50"
        },
        {
        "sku" : "2001",
        "name" : "CLEAN Skin Eau de Parfum",
        "long_description" : "Cum ad reque albucius, te qui labitur voluptatum. Ea mei similique scribentur reprehendunt, nam sumo nullam imperdiet te. Sea te labores petentium, cu mel harum zril pertinax. Velit electram vel in. Decore possit qui at.",
        "product_title" : "CLEAN",
        "price" : "18.00"
        }
      ];

      // Get the contents of the script tag:
      var perfumesTemplate = $('#perfumesTemplate').innerHTML;
      var parsedPerfumesTemplate = $.template(perfumesTemplate);
      // Append the parsed template with data to document:
      $.append($('#perfumes ul'), parsedPerfumesTemplate(perfumes));
    });
  </script>
</head>
<body>
  <h1>Templates</h1>
  <h3>Code example (Using a simple object for data in template):</h3>
  <pre>
$(function() {
  var person = {
    name: 'Wobba',
    age: 100
  }
  var personTemplate = '&lt;p&gt;Name: [[= data.name ]], age: [[= data.age ]]&lt;/p&gt;';
  var personTemplateParsed = $.template(personTemplate);
  $.append($('#person'), personTemplateParsed(person));
});</pre>
  <p>Result:</p>
  <div id="person"></div>
  <h3>Code Example (Using a simple array for data in template):</h3>
  <pre>
$(function() {
  var shopping = ["milk", "flour", "butter", "eggs", "lettuce", "sprouts"];
  var shoppingTemplate = '&lt;li&gt;[[= data ]]&lt;/li&gt;';
  var parsedShoppingTemplate = $.template(shoppingTemplate);
  shopping.forEach(function(item) {
    $.append('#shopping ul', parsedShoppingTemplate(item));
  }); 
});</pre>
  <p>Result:</p>
  <div id="shopping">
    <ul></ul>
  </div>
  <h3>Code Example (Using an array of objects and a script tag for template</h3>
  <p>In this example the looping is done inside the template code:</p>
  <pre>
// Data for template (truncated for display):
var perfumes = [
  {
  "sku" : "3962",
  "name" : "My Life Blossom Mary J. Blige Eau de Parfum and Rollerball Duo",
  "long_description" : "Lorem ipsum dolor sit amet, te mei prompta laboramus. Quo et postea noluisse, id eam iriure interpretaris. Mea feugait hendrerit consequuntur no. Quod utinam qui no, duo graecis tincidunt cotidieque id.",
  "product_title" : "My Life Blossom",
  "price" : "15.00"
  },
  {
  "sku" : "3983",
  "name" : "Vince Camuto Eau de Parfum Spray",
  "long_description" : "Cu veri clita sapientem eos, mea no quot tantas antiopam, vis te stet labores. Mutat delenit accommodare ut nam, mucius oporteat facilisi sed ei. Vim an assum delicata, nonumy soluta sed cu. Tollit nostrum neglegentur per eu, eos utamur invidunt voluptaria te. Minimum salutatus vim id.",
  "product_title" : "Vince Camuto",
  "price" : "5.00"
  },
  {
  "sku" : "3982",
  "name" : "Sexual Secret by Michel Germain Eau De Parfum Spray with Mini Bottle",
  "long_description" : "Eum albucius intellegam an, ei idque facilisis eum, insolens democritum nam eu. Ferri nostro usu cu. Erat aliquip no pro. Ne wisi brute labores ius. Audiam ancillae adipisci et eum.",
  "product_title" : "Sexual Secret",
  "price" : "5.00"
  }
];

// Script template:
&lt;script id='perfumesTemplate' type='text/x-template'&gt;
  [[ data.forEach(function(data) { ]]
  &lt;li&gt;&lt;strong&gt;[[= data.name ]]&lt;/strong&gt;, sku: 
  &lt;strong&gt;[[= data.sku ]]&lt;/strong&gt; 
  &lt;span class='price'&gt;price: $&lt;strong&gt;[[= data.price ]]&lt;/strong&gt;
  &lt;/span&gt;&lt;/li&gt;
  [[ }); ]]
&lt;/script&gt;

&lt;script&gt;
  // Code to process the script tag template.
  // Get the contents of the script tag:
  var perfumesTemplate = $('#perfumesTemplate').innerHTML;
  var parsedPerfumesTemplate = $.template(perfumesTemplate);
  // Append the parsed template with data to document:
  $.append($('#perfumes ul'), parsedPerfumesTemplate(perfumes));
&lt;/script&gt;
  </pre>
  <script id='perfumesTemplate' type='text/x-template'>
    [[ data.forEach(function(data) { ]]
    <li><strong>[[= data.product_title ]]</strong>, sku: <strong>[[= data.sku ]]</strong> <span  class='price'>price: <strong>$[[= data.price ]]</strong></span></li>
    [[ }); ]]
  </script>
  <p>Result:</p>
  <div id='perfumes'>
    <ul></ul>
  </div>
</body>
</html>